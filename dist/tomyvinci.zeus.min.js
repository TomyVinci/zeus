/*
 *  https://github.com/TomyVinci/zeus
 *
 *  Document   : zeus.js
 *  Author     : Tomy Vinci 
 *  Description: The javascript file of zeus
 *  Version    : v1.0.0 / Free
 *
*/

var loads=0;let zeusIntervalId=null,zeusIsKeyPressed=!1,zeusKeyPressSpeed=400,zeusPreselVal,zeusPreSelItem;"undefined"!=typeof jQuery?function(e){e.fn.tvzeus=function(s){var t=e.extend({width:300,datatype:"html",searchTxt:"Recherche",direction:"ltr",callback:function(){}},s);return this.each(function(){var s,l,a=e(this),u=e(this).attr("id"),v="multiple"==e(this).attr("multiple"),r="disabled"==e(this).attr("disabled"),i=[],n=!1,z="",o="",d=[],c=[],h=function(s,t){e("#"+t+"-tvzeus.multiple .zeus-value span").unbind("click").click(function(){var s=e(this).attr("name");e("#"+t+'-tvzeus .zeus-value span[name="'+s+'"]').remove();var l=e("#"+t+"-tvzeus-val").val(),a=[];l=l.split(",");for(var u=0;u<l.length;u++)l[u]=l[u].trim(),l[u]!=s&&l[u].length>0&&a.push(l[u]);a.length>0?e("#"+t+"-tvzeus-val").val(a.join(",")):e("#"+t+"-tvzeus-val").val(""),e("#"+t+"-tvzeus").removeClass("shown"),e("#"+t+'-tvzeus .zeus-list .zeus-elem[data-val="'+s+'"]').removeClass("selected"),e("#"+t+'-tvzeus .zeus-list .zeus-elem[data-val="'+s+'"]').attr("selected",!1),e("#"+t+" option").filter(function(){return e(this).val()==s}).prop("selected",!1),e("#"+t+' option[value="'+s+'"]').attr("selected",!1),e("#"+t).change(),e("#"+t+"-tvzeus").hasClass("shown")&&e("#"+t+"-tvzeus").toggleClass("shown")})},m=function(e,s){for(var t=s.length,l=0;l<t;l++)if(s[l]==e)return!0;return!1},p=function(s,t){var l=e("#"+s+"-tvzeus").hasClass("multiple"),u=!1;if(l){if(Array.isArray(t)){var v,r=0,i=e("#"+s+"-tvzeus .zeus-list .zeus-elem");e("#"+s+"-tvzeus .zeus-value").html(""),e("#"+s+"-tvzeus-val").val(""),e("#"+s+"-tvzeus").removeClass("shown"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("selected");for(var n=[],z=0;z<i.length;z++){var o=e(v=i[z]).attr("data-val"),d=e(v).text();m(o,t)&&(r=1,e("#"+s+"-tvzeus .zeus-value").append('<span name="'+o+'">'+d+"</span>"),o&&n.push(t[P]),e("#"+s+"-tvzeus").toggleClass("shown"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+o+'"]').removeClass("selected").addClass("selected"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+o+'"]').attr("selected","selected"),e("#"+s+" option").filter(function(){return e(this).val()==o}).prop("selected",!0),e("#"+s+' option[value="'+o+'"]').attr("selected","selected"))}n.length>0&&e("#"+s+"-tvzeus-val").val(n.join(",")),h(a,s),0==r?console.warn("The value "+t+" not exists for #"+s):(u=!0,e("#"+s).change())}else console.error("The value must be an array for a multiple select for #"+s)}else if(Array.isArray(t))console.error("The value must not be an array for a single select for #"+s);else{for(var v,r=0,i=e("#"+s+"-tvzeus .zeus-list .zeus-elem"),z=0;z<i.length;z++){var o=e(v=i[z]).attr("data-val"),d=e(v).text();o==t&&(r=1,e("#"+s+"-tvzeus .zeus-value").html('<span name="'+o+'">'+d+"</span>"),e("#"+s+"-tvzeus-val").val(o),e("#"+s+"-tvzeus").removeClass("shown"),e("#"+s).val(o),e("#"+s+" option").removeAttr("selected"),e("#"+s+' option[value="'+o+'"]').attr("selected","selected"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("selected"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+o+'"]').removeClass("selected").addClass("selected"))}0==r?console.warn("The value "+t+" not exists for #"+s):(u=!0,e("#"+s).change())}return u},f=function(s){return e("#"+s+"-tvzeus-val").val()},$=function(s){return destroy(s),tvzeus=e("#"+s).tvzeus({width:t.width,datatype:t.datatype,searchTxt:t.searchTxt,direction:t.direction,callback:t.callback}),!0},g=function(s){e("#"+s+"-tvzeus .zeus-value").html(""),e("#"+s+"-tvzeus-val").val(""),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeAttr("selected"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("selected"),e("#"+s+" option").removeAttr("selected"),e("#"+s+"-tvzeus").removeClass("shown")};triggerValue=function(s){var t="multiple"==e("#"+s).attr("multiple");return e("#"+s+"-tvzeus .zeus-value").html(""),e("#"+s+"-tvzeus-val").val(""),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeAttr("selected"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("selected"),e("#"+s+"-tvzeus").removeClass("shown"),e("#"+s).find("option").each(function(){for(var l=e(this).val(),a=e(this).text(),u=this.attributes,v=[],r=0;r<u.length;r++)"selected"==u[r].name&&(t?(v.push(l),e("#"+s+"-tvzeus .zeus-value").append('<span name="'+l+'">'+a+"</span>"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+l+'"]').removeClass("selected").addClass("selected"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+l+'"]').attr("selected","selected"),e("#"+s+" option").filter(function(){return e(this).val()==l}).prop("selected",!0),e("#"+s+' option[value="'+l+'"]').attr("selected","selected")):(e("#"+s+"-tvzeus .zeus-value").html('<span name="'+l+'">'+a+"</span>"),e("#"+s+"-tvzeus-val").val(l),e("#"+s).val(l),e("#"+s+' option[value="'+l+'"]').attr("selected","selected"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+l+'"]').removeClass("selected").addClass("selected"),e("#"+s+'-tvzeus .zeus-list .zeus-elem[data-val="'+l+'"]').attr("selected","selected")));v.length>0&&e("#"+s+"-tvzeus-val").val(v.join(","))}),t&&h(a,s),e("#"+s).change(),!0},zDisable=function(s){return e("#"+s+"-tvzeus").attr("disabled","disabled"),e("#"+s+"-tvzeus").removeClass("disabled").addClass("disabled"),!0},zEnable=function(s){return e("#"+s+"-tvzeus").removeAttr("disabled"),e("#"+s+"-tvzeus").removeClass("disabled"),!0},destroy=function(s){return e("#"+s+"-tvzeus").remove(),e("#"+s).show(),!0},keyboard=function(s,t){if((zeusKeyPressSpeed-=50)<50&&(zeusKeyPressSpeed=50),zeusIsKeyPressed){var l,a="multiple"==e("#"+s).attr("multiple");if(38==t||40==t){var u=e("#"+s+"-tvzeus .zeus-list .zeus-elem:visible").length,v=e("#"+s+"-tvzeus .zeus-list .zeus-elem.pre-sel").length;u>0&&(v>0?(l=e("#"+s+"-tvzeus .zeus-list .zeus-elem:eq("+zeusPreSelItem+")"),zeusPreselVal=e(l).attr("data-val")):a?(zeusPreSelItem=0,l=e("#"+s+"-tvzeus .zeus-list").find(".zeus-elem:first"),zeusPreselVal=e(l).attr("data-val")):e("#"+s+"-tvzeus .zeus-list .zeus-elem.selected:visible").length>0?(zeusPreSelItem=e("#"+s+"-tvzeus .zeus-list .zeus-elem.selected").prevAll(".zeus-elem").length,l=e("#"+s+"-tvzeus .zeus-list").find(".zeus-elem:eq("+zeusPreSelItem+")"),zeusPreselVal=e(l).attr("data-val")):(zeusPreSelItem=0,l=e("#"+s+"-tvzeus .zeus-list").find(".zeus-elem:first"),zeusPreselVal=e(l).attr("data-val")))}if(38==t&&zeusPreSelItem>0){var r=e("#"+s+"-tvzeus .zeus-list .zeus-elem:visible:eq("+--zeusPreSelItem+")");r.length>0&&(l=r,zeusPreselVal=e(r).attr("data-val"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("pre-sel"),e(r).removeClass("pre-sel").addClass("pre-sel"),e("#"+s+"-tvzeus .zeus-list").scrollTop(e("#"+s+"-tvzeus .zeus-list").scrollTop()+e(r).position().top-80))}if(40==t&&zeusPreSelItem<u){var r=e("#"+s+"-tvzeus .zeus-list .zeus-elem:visible:eq("+ ++zeusPreSelItem+")");r.length>0&&(l=r,zeusPreselVal=e(r).attr("data-val"),e("#"+s+"-tvzeus .zeus-list .zeus-elem").removeClass("pre-sel"),e(r).removeClass("pre-sel").addClass("pre-sel"),e("#"+s+"-tvzeus .zeus-list").scrollTop(e("#"+s+"-tvzeus .zeus-list").scrollTop()+e(r).position().top-80))}if(13==t){var i=e("#"+s+"-tvzeus .zeus-list .zeus-elem.pre-sel").hasClass("disabled");if(zeusPreselVal&&!i){if(a){var n=e("#"+s+"-tvzeus-val").val();(n=n.split(",")).push(zeusPreselVal),p(s,n)}else p(s,zeusPreselVal)}zeusIsKeyPressed=!1,zeusKeyPressSpeed=400,clearInterval(zeusIntervalId)}27==t&&(e("#"+s+"-tvzeus .zeus-value").trigger("click"),zeusIsKeyPressed=!1,zeusKeyPressSpeed=400,clearInterval(zeusIntervalId)),zeusIntervalId=setTimeout(function(){keyboard(s,t)},zeusKeyPressSpeed)}};var C=[];a.find("option").each(function(){for(var t=e(this).val(),a=e(this).text(),u=this.attributes,r={},i=0;i<u.length;i++)r[u[i].name]=u[i].value,s="selected"==u[i].name,l="disabled"==u[i].name,"selected"==u[i].name&&(n=!0,v?(d.push(a),c.push(t)):(z='<span name="'+t+'">'+a+"</span>",o=t));C.push({val:t,txt:a,atr:r,sel:s,dis:l})});var b="tvzeus-"+Math.floor(1e6*Math.random());if(void 0==u&&(u=b,a.attr("id",b)),i={id:u,mtp:v,dis:r,slt:z,slv:o,opt:C},v&&d.length>0){for(var P=0;P<d.length;P++){for(var w="",y=0;y<C.length;y++){var I=C[y],x=I?.val;I?.txt==d[P]&&(w=x)}z+='<span name="'+w+'">'+d[P]+"</span>"}o=c.join(",")}var S='<div class="zeus-container'+(r?" disabled":"")+(v?" multiple":"")+("rtl"==t.direction?" rtl":"")+'" id="'+u+'-tvzeus"><div class="zeus-value">'+z+'</div><input type="hidden" id="'+u+'-tvzeus-val" value="'+o+'" /><div class="zeus-toshow"><div class="zeus-search"><input type="text" id="'+u+'-search" autocomplete="off" placeholder="'+t.searchTxt+'" /></div><div class="zeus-list"></div></div></div>',_="";a.children().each(function(){var s=e(this)[0].tagName;if("optgroup"==(s=s.toLowerCase())){var t=e(this);_+='<div class="zeus-group"><div class="zeus-group-title">'+t.attr("label")+"</div>",t.find("option").each(function(){for(var s=e(this).val(),t=e(this).text(),l=this.attributes,a="",u=!1,v=!1,r=0;r<l.length;r++)"value"!=l[r].name&&(a+=l[r].name+'="'+l[r].value+'"'),"selected"==l[r].name&&(u=!0),"disabled"==l[r].name&&(v=!0);_+='<div class="zeus-elem'+(u?" selected":"")+(v?" disabled":"")+'" data-val="'+s+'"'+a+">"+t+"</div>"}),_+="</div>"}if("option"==s){for(var l=e(this).val(),a=e(this).text(),u=this.attributes,v="",r=!1,i=!1,n=0;n<u.length;n++)"value"!=u[n].name&&(v+=u[n].name+'="'+u[n].value+'"'),"selected"==u[n].name&&(r=!0),"disabled"==u[n].name&&(i=!0);_+='<div class="zeus-elem'+(r?" selected":"")+(i?" disabled":"")+'" data-val="'+l+'"'+v+">"+a+"</div>"}}),e(S).insertAfter(a),e("#"+u+"-tvzeus").width(t.width),e("#"+u+"-tvzeus .zeus-list").html(_),a.hide(),e("#"+u+"-tvzeus .zeus-value").click(function(){e("#"+u+"-tvzeus").hasClass("disabled")||(e("#"+u+"-tvzeus .zeus-list .zeus-elem").show(),e(".zeus-container:not(#"+u+"-tvzeus)").removeClass("shown"),e("#"+u+"-tvzeus").toggleClass("shown"),e("#"+u+"-search").val(""),e("#"+u+"-search").focus())}),e("#"+u+"-tvzeus .zeus-list .zeus-elem").click(function(){for(var s=e(this).attr("data-val"),t=0;t<C.length;t++){var l=C[t];if(l.val==s&&!l.dis){if(v){if(!e("#"+u+'-tvzeus .zeus-list .zeus-elem[data-val="'+l.val+'"]').hasClass("selected")){e("#"+u+"-tvzeus .zeus-value").append('<span name="'+l.val+'">'+l.txt+"</span>");var r=e("#"+u+"-tvzeus-val").val();(r=r.split(",")).push(l.val);for(var i=[],t=0;t<r.length;t++)r[t]=r[t].trim(),parseInt(r[t])&&i.push(r[t]);r.length>0?e("#"+u+"-tvzeus-val").val(i.join(",")):e("#"+u+"-tvzeus-val").val(""),e("#"+u+"-tvzeus").toggleClass("shown"),e("#"+u+'-tvzeus .zeus-list .zeus-elem[data-val="'+l.val+'"]').removeClass("selected").addClass("selected"),e("#"+u+'-tvzeus .zeus-list .zeus-elem[data-val="'+l.val+'"]').attr("selected","selected"),e("#"+u+" option").filter(function(){return e(this).val()==l.val}).prop("selected",!0),e("#"+u+' option[value="'+l.val+'"]').attr("selected","selected"),h(a,u),e("#"+u).change()}}else e("#"+u+"-tvzeus .zeus-value").html('<span name="'+l.val+'">'+l.txt+"</span>"),e("#"+u+"-tvzeus-val").val(l.val),e("#"+u+"-tvzeus").toggleClass("shown"),e("#"+u).val(l.val),e("#"+u+" option").removeAttr("selected"),e("#"+u+' option[value="'+l.val+'"]').attr("selected","selected"),e("#"+u+"-tvzeus .zeus-list .zeus-elem").removeClass("selected"),e("#"+u+'-tvzeus .zeus-list .zeus-elem[data-val="'+l.val+'"]').removeClass("selected").addClass("selected"),e("#"+u).change()}}}),e("#"+u+"-search").on("keyup",function(){var s=e(this).val().trim().toLowerCase(),t=RegExp(s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,""),"i");e("#"+u+"-tvzeus .zeus-list .zeus-elem").each(function(){for(var s=e(this).text(),s=s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),l=this.attributes,a="",u=0;u<l.length;u++)a+=l[u].value+" ";a=a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),t.test(s)||t.test(a)?e(this).show():e(this).hide()})}),h(a,u),e(document).on("click",function(s){!e(s.target).closest("#"+u+"-tvzeus").length&&e("#"+u+"-tvzeus").hasClass("shown")&&(e("#"+u+"-tvzeus .zeus-list .zeus-elem").show(),e("#"+u+"-tvzeus").toggleClass("shown"),e("#"+u+"-search").val(""),e("#"+u+"-search").focus())}),e("#"+u+"-tvzeus").on("click",function(e){e.stopPropagation()}),t.callback(),e("#"+u+"-tvzeus").keydown(function(e){var s=e.which||e.keyCode;zeusIsKeyPressed||(zeusIsKeyPressed=!0,(38==s||40==s||13==s||27==s)&&keyboard(u,s))}),e("#"+u+"-tvzeus").keyup(function(e){zeusIsKeyPressed=!1,zeusKeyPressSpeed=400,clearInterval(zeusIntervalId)}),this.setValue=function(e,s){return p(e,s)},this.getValue=function(e){return f(e)},this.triggerContent=function(e){return $(e)},this.triggerValue=function(e){return triggerValue(e)},this.unSelect=function(e){return g(e)},this.zDisable=function(e){return zDisable(e)},this.zEnable=function(e){return zEnable(e)},this.destroy=function(e){return destroy(e)}})}}(jQuery):console.error(">> jQuery.js is required to use ApollonJS !! <<");
